<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced HTML - Web Development Learning Hub</title>
    <link rel="stylesheet" href="../../styles/learning.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css">
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="../../index.html" class="nav-logo">üíª WebDev Hub</a>
            <div class="nav-links">
                <a href="../01-basics/">HTML Basics</a>
                <a href="../02-intermediate/">HTML Intermediate</a>
                <a href="../03-advanced/">HTML Advanced</a>
                <a href="../../css/01-basics/">CSS Basics</a>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <header class="page-header">
            <div class="container">
                <h1>Advanced HTML üî•</h1>
                <p>HTML5 APIs, Web Components, and cutting-edge techniques</p>
                <div class="breadcrumb">
                    <a href="../../index.html">Home</a> ‚Üí <a href="../01-basics/">HTML Basics</a> ‚Üí <a href="../02-intermediate/">Intermediate</a> ‚Üí <span>Advanced HTML</span>
                </div>
            </div>
        </header>

        <div class="container">
            <div class="learning-layout">
                <aside class="sidebar">
                    <nav class="topic-nav">
                        <h3>Topics</h3>
                        <ul>
                            <li><a href="#html5-apis">HTML5 APIs</a></li>
                            <li><a href="#web-components">Web Components</a></li>
                            <li><a href="#canvas-svg">Canvas & SVG</a></li>
                            <li><a href="#performance">Performance</a></li>
                            <li><a href="#progressive-web-apps">PWAs</a></li>
                            <li><a href="#security">Security</a></li>
                            <li><a href="#modern-practices">Modern Practices</a></li>
                        </ul>
                    </nav>
                </aside>

                <div class="content">
                    <!-- HTML5 APIs -->
                    <section id="html5-apis" class="topic-section">
                        <h2>HTML5 APIs üõ†Ô∏è</h2>
                        <div class="explanation">
                            <p>HTML5 introduced powerful APIs that enable rich, interactive web applications.</p>
                        </div>

                        <div class="code-example">
                            <h4>Geolocation API:</h4>
                            <pre><code class="language-html">&lt;button onclick="getLocation()"&gt;Get My Location&lt;/button&gt;
&lt;div id="location-result"&gt;&lt;/div&gt;

&lt;script&gt;
function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
    } else {
        document.getElementById("location-result").innerHTML = 
            "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
    const result = document.getElementById("location-result");
    result.innerHTML = `
        Latitude: ${position.coords.latitude}&lt;br&gt;
        Longitude: ${position.coords.longitude}&lt;br&gt;
        Accuracy: ${position.coords.accuracy} meters
    `;
}

function showError(error) {
    const result = document.getElementById("location-result");
    switch(error.code) {
        case error.PERMISSION_DENIED:
            result.innerHTML = "User denied the request for Geolocation.";
            break;
        case error.POSITION_UNAVAILABLE:
            result.innerHTML = "Location information is unavailable.";
            break;
        case error.TIMEOUT:
            result.innerHTML = "The request to get user location timed out.";
            break;
    }
}
&lt;/script&gt;</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Local Storage API:</h4>
                            <pre><code class="language-html">&lt;div&gt;
    &lt;input type="text" id="storage-input" placeholder="Enter some text"&gt;
    &lt;button onclick="saveData()"&gt;Save&lt;/button&gt;
    &lt;button onclick="loadData()"&gt;Load&lt;/button&gt;
    &lt;button onclick="clearData()"&gt;Clear&lt;/button&gt;
&lt;/div&gt;
&lt;div id="storage-result"&gt;&lt;/div&gt;

&lt;script&gt;
function saveData() {
    const input = document.getElementById('storage-input');
    const data = {
        text: input.value,
        timestamp: new Date().toISOString()
    };
    
    localStorage.setItem('userData', JSON.stringify(data));
    alert('Data saved!');
}

function loadData() {
    const data = localStorage.getItem('userData');
    const result = document.getElementById('storage-result');
    
    if (data) {
        const parsedData = JSON.parse(data);
        result.innerHTML = `
            &lt;p&gt;Saved text: ${parsedData.text}&lt;/p&gt;
            &lt;p&gt;Saved at: ${new Date(parsedData.timestamp).toLocaleString()}&lt;/p&gt;
        `;
    } else {
        result.innerHTML = 'No data found!';
    }
}

function clearData() {
    localStorage.removeItem('userData');
    document.getElementById('storage-result').innerHTML = '';
    alert('Data cleared!');
}
&lt;/script&gt;</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Web Workers:</h4>
                            <pre><code class="language-html">&lt;button onclick="startWorker()"&gt;Start Background Task&lt;/button&gt;
&lt;button onclick="stopWorker()"&gt;Stop Worker&lt;/button&gt;
&lt;div id="worker-result"&gt;&lt;/div&gt;

&lt;script&gt;
let worker;

function startWorker() {
    if (typeof(Worker) !== "undefined") {
        if (typeof(worker) == "undefined") {
            // Create worker from inline script
            const workerScript = `
                let counter = 0;
                setInterval(() =&gt; {
                    counter++;
                    postMessage('Worker running: ' + counter);
                }, 1000);
            `;
            
            const blob = new Blob([workerScript], {type: 'application/javascript'});
            worker = new Worker(URL.createObjectURL(blob));
        }
        
        worker.onmessage = function(event) {
            document.getElementById("worker-result").innerHTML = event.data;
        };
    } else {
        document.getElementById("worker-result").innerHTML = 
            "Sorry, your browser does not support Web Workers...";
    }
}

function stopWorker() {
    if (worker) {
        worker.terminate();
        worker = undefined;
        document.getElementById("worker-result").innerHTML = "Worker stopped";
    }
}
&lt;/script&gt;</code></pre>
                        </div>
                    </section>

                    <!-- Web Components -->
                    <section id="web-components" class="topic-section">
                        <h2>Web Components üß©</h2>
                        <div class="explanation">
                            <p>Web Components allow you to create reusable custom elements with encapsulated functionality.</p>
                        </div>

                        <div class="code-example">
                            <h4>Custom Element:</h4>
                            <pre><code class="language-html">&lt;!-- Usage --&gt;
&lt;user-card name="John Doe" email="john@example.com" avatar="avatar.jpg"&gt;&lt;/user-card&gt;

&lt;script&gt;
class UserCard extends HTMLElement {
    constructor() {
        super();
        
        // Create shadow DOM
        this.attachShadow({ mode: 'open' });
        
        // Create template
        this.shadowRoot.innerHTML = `
            &lt;style&gt;
                :host {
                    display: block;
                    max-width: 300px;
                    border: 1px solid #ddd;
                    border-radius: 8px;
                    padding: 20px;
                    font-family: Arial, sans-serif;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                }
                
                .avatar {
                    width: 60px;
                    height: 60px;
                    border-radius: 50%;
                    object-fit: cover;
                    margin-bottom: 10px;
                }
                
                .name {
                    font-size: 1.2em;
                    font-weight: bold;
                    margin-bottom: 5px;
                }
                
                .email {
                    color: #666;
                    font-size: 0.9em;
                }
            &lt;/style&gt;
            
            &lt;div class="card"&gt;
                &lt;img class="avatar" src="" alt="User avatar"&gt;
                &lt;div class="name"&gt;&lt;/div&gt;
                &lt;div class="email"&gt;&lt;/div&gt;
            &lt;/div&gt;
        `;
        
        this.updateContent();
    }
    
    static get observedAttributes() {
        return ['name', 'email', 'avatar'];
    }
    
    attributeChangedCallback(name, oldValue, newValue) {
        this.updateContent();
    }
    
    updateContent() {
        const name = this.getAttribute('name') || 'Unknown';
        const email = this.getAttribute('email') || '';
        const avatar = this.getAttribute('avatar') || 'default-avatar.png';
        
        const nameEl = this.shadowRoot.querySelector('.name');
        const emailEl = this.shadowRoot.querySelector('.email');
        const avatarEl = this.shadowRoot.querySelector('.avatar');
        
        if (nameEl) nameEl.textContent = name;
        if (emailEl) emailEl.textContent = email;
        if (avatarEl) avatarEl.src = avatar;
    }
}

// Register the custom element
customElements.define('user-card', UserCard);
&lt;/script&gt;</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>HTML Template and Slot:</h4>
                            <pre><code class="language-html">&lt;!-- Template definition --&gt;
&lt;template id="modal-template"&gt;
    &lt;style&gt;
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 500px;
            width: 90%;
        }
        
        .close-button {
            float: right;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
        }
    &lt;/style&gt;
    
    &lt;div class="modal-backdrop"&gt;
        &lt;div class="modal-content"&gt;
            &lt;button class="close-button"&gt;&times;&lt;/button&gt;
            &lt;slot name="header"&gt;&lt;h2&gt;Default Header&lt;/h2&gt;&lt;/slot&gt;
            &lt;slot name="body"&gt;&lt;p&gt;Default body content&lt;/p&gt;&lt;/slot&gt;
            &lt;slot name="footer"&gt;&lt;button&gt;OK&lt;/button&gt;&lt;/slot&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;!-- Custom modal element --&gt;
&lt;custom-modal&gt;
    &lt;h2 slot="header"&gt;Confirmation&lt;/h2&gt;
    &lt;p slot="body"&gt;Are you sure you want to delete this item?&lt;/p&gt;
    &lt;div slot="footer"&gt;
        &lt;button onclick="this.closest('custom-modal').close()"&gt;Cancel&lt;/button&gt;
        &lt;button onclick="deleteItem()"&gt;Delete&lt;/button&gt;
    &lt;/div&gt;
&lt;/custom-modal&gt;

&lt;script&gt;
class CustomModal extends HTMLElement {
    constructor() {
        super();
        this.attachShadow({ mode: 'open' });
        
        const template = document.getElementById('modal-template');
        this.shadowRoot.appendChild(template.content.cloneNode(true));
        
        // Hide modal by default
        this.style.display = 'none';
        
        // Add event listeners
        this.shadowRoot.querySelector('.close-button')
            .addEventListener('click', () =&gt; this.close());
            
        this.shadowRoot.querySelector('.modal-backdrop')
            .addEventListener('click', (e) =&gt; {
                if (e.target === e.currentTarget) this.close();
            });
    }
    
    open() {
        this.style.display = 'block';
    }
    
    close() {
        this.style.display = 'none';
    }
}

customElements.define('custom-modal', CustomModal);
&lt;/script&gt;</code></pre>
                        </div>
                    </section>

                    <!-- Canvas & SVG -->
                    <section id="canvas-svg" class="topic-section">
                        <h2>Canvas & SVG üé®</h2>
                        <div class="explanation">
                            <p>Canvas provides pixel-based graphics, while SVG offers vector-based graphics. Both enable rich visual content.</p>
                        </div>

                        <div class="code-example">
                            <h4>HTML5 Canvas:</h4>
                            <pre><code class="language-html">&lt;canvas id="drawing-canvas" width="400" height="300" 
        style="border: 1px solid #ccc;"&gt;
    Your browser does not support the canvas element.
&lt;/canvas&gt;

&lt;script&gt;
const canvas = document.getElementById('drawing-canvas');
const ctx = canvas.getContext('2d');

// Draw a gradient background
const gradient = ctx.createLinearGradient(0, 0, 400, 300);
gradient.addColorStop(0, '#3498db');
gradient.addColorStop(1, '#2980b9');
ctx.fillStyle = gradient;
ctx.fillRect(0, 0, 400, 300);

// Draw shapes
ctx.fillStyle = '#e74c3c';
ctx.fillRect(50, 50, 100, 80);

ctx.fillStyle = '#f39c12';
ctx.beginPath();
ctx.arc(200, 150, 40, 0, 2 * Math.PI);
ctx.fill();

ctx.strokeStyle = '#27ae60';
ctx.lineWidth = 3;
ctx.beginPath();
ctx.moveTo(280, 100);
ctx.lineTo(350, 50);
ctx.lineTo(350, 150);
ctx.closePath();
ctx.stroke();

// Draw text
ctx.fillStyle = 'white';
ctx.font = '20px Arial';
ctx.fillText('HTML5 Canvas', 120, 250);

// Interactive drawing
let isDrawing = false;
canvas.addEventListener('mousedown', startDrawing);
canvas.addEventListener('mousemove', draw);
canvas.addEventListener('mouseup', stopDrawing);

function startDrawing(e) {
    isDrawing = true;
    ctx.beginPath();
    ctx.moveTo(e.offsetX, e.offsetY);
}

function draw(e) {
    if (!isDrawing) return;
    
    ctx.lineWidth = 2;
    ctx.strokeStyle = '#fff';
    ctx.lineTo(e.offsetX, e.offsetY);
    ctx.stroke();
}

function stopDrawing() {
    isDrawing = false;
}
&lt;/script&gt;</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>SVG Graphics:</h4>
                            <pre><code class="language-html">&lt;svg width="400" height="300" viewBox="0 0 400 300" 
     style="border: 1px solid #ccc;"&gt;
    
    &lt;!-- Gradient definitions --&gt;
    &lt;defs&gt;
        &lt;linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%"&gt;
            &lt;stop offset="0%" style="stop-color:#3498db;stop-opacity:1" /&gt;
            &lt;stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" /&gt;
        &lt;/linearGradient&gt;
        
        &lt;radialGradient id="circleGradient" cx="50%" cy="50%" r="50%"&gt;
            &lt;stop offset="0%" style="stop-color:#f39c12;stop-opacity:1" /&gt;
            &lt;stop offset="100%" style="stop-color:#e67e22;stop-opacity:1" /&gt;
        &lt;/radialGradient&gt;
    &lt;/defs&gt;
    
    &lt;!-- Background --&gt;
    &lt;rect width="100%" height="100%" fill="url(#bgGradient)" /&gt;
    
    &lt;!-- Shapes --&gt;
    &lt;rect x="50" y="50" width="100" height="80" fill="#e74c3c" 
          rx="5" ry="5" /&gt;
    
    &lt;circle cx="200" cy="150" r="40" fill="url(#circleGradient)" /&gt;
    
    &lt;polygon points="280,100 350,50 350,150" 
             fill="none" stroke="#27ae60" stroke-width="3" /&gt;
    
    &lt;!-- Text --&gt;
    &lt;text x="200" y="250" text-anchor="middle" 
          font-family="Arial" font-size="20" fill="white"&gt;
        SVG Graphics
    &lt;/text&gt;
    
    &lt;!-- Animation --&gt;
    &lt;circle cx="50" cy="250" r="10" fill="#e74c3c"&gt;
        &lt;animate attributeName="cx" values="50;350;50" 
                 dur="3s" repeatCount="indefinite" /&gt;
    &lt;/circle&gt;
    
    &lt;!-- Interactive elements --&gt;
    &lt;rect x="300" y="200" width="80" height="40" fill="#9b59b6" 
          rx="5" ry="5" onclick="alert('SVG clicked!')" 
          style="cursor: pointer;" /&gt;
    &lt;text x="340" y="225" text-anchor="middle" 
          font-family="Arial" font-size="14" fill="white"
          onclick="alert('SVG clicked!')" style="cursor: pointer;"&gt;
        Click me
    &lt;/text&gt;
&lt;/svg&gt;</code></pre>
                        </div>
                    </section>

                    <!-- Performance -->
                    <section id="performance" class="topic-section">
                        <h2>Performance Optimization ‚ö°</h2>
                        <div class="explanation">
                            <p>Modern HTML techniques for optimal loading speed and user experience.</p>
                        </div>

                        <div class="code-example">
                            <h4>Resource Loading Optimization:</h4>
                            <pre><code class="language-html">&lt;head&gt;
    &lt;!-- Critical CSS inline --&gt;
    &lt;style&gt;
        /* Critical above-the-fold styles here */
        body { font-family: Arial, sans-serif; margin: 0; }
        .hero { background: #3498db; color: white; padding: 60px 0; }
    &lt;/style&gt;
    
    &lt;!-- Preload critical resources --&gt;
    &lt;link rel="preload" href="hero-image.jpg" as="image"&gt;
    &lt;link rel="preload" href="critical-font.woff2" as="font" type="font/woff2" crossorigin&gt;
    
    &lt;!-- Preconnect to external domains --&gt;
    &lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;
    &lt;link rel="preconnect" href="https://api.example.com"&gt;
    
    &lt;!-- DNS prefetch for performance --&gt;
    &lt;link rel="dns-prefetch" href="//cdn.example.com"&gt;
    
    &lt;!-- Load non-critical CSS asynchronously --&gt;
    &lt;link rel="preload" href="styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"&gt;
    &lt;noscript&gt;&lt;link rel="stylesheet" href="styles.css"&gt;&lt;/noscript&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;!-- Critical content first --&gt;
    &lt;header class="hero"&gt;
        &lt;h1&gt;Welcome to Our Site&lt;/h1&gt;
        &lt;p&gt;This content loads immediately&lt;/p&gt;
    &lt;/header&gt;
    
    &lt;!-- Lazy load images --&gt;
    &lt;img src="placeholder.jpg" 
         data-src="large-image.jpg" 
         alt="Description" 
         loading="lazy"
         class="lazy-image"&gt;
    
    &lt;!-- Lazy load iframe --&gt;
    &lt;iframe src="about:blank" 
            data-src="https://www.youtube.com/embed/VIDEO_ID" 
            loading="lazy"
            class="lazy-iframe"&gt;&lt;/iframe&gt;
    
    &lt;!-- Script loading strategies --&gt;
    &lt;script src="critical.js"&gt;&lt;/script&gt;
    &lt;script src="interactive.js" defer&gt;&lt;/script&gt;
    &lt;script src="analytics.js" async&gt;&lt;/script&gt;
    
    &lt;!-- Load non-critical scripts after page load --&gt;
    &lt;script&gt;
        window.addEventListener('load', function() {
            // Load non-critical scripts
            const script = document.createElement('script');
            script.src = 'non-critical.js';
            document.head.appendChild(script);
        });
    &lt;/script&gt;
&lt;/body&gt;</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Image Optimization:</h4>
                            <pre><code class="language-html">&lt;!-- Responsive images with modern formats --&gt;
&lt;picture&gt;
    &lt;source srcset="hero.avif" type="image/avif"&gt;
    &lt;source srcset="hero.webp" type="image/webp"&gt;
    &lt;source srcset="hero-large.jpg" media="(min-width: 800px)"&gt;
    &lt;source srcset="hero-medium.jpg" media="(min-width: 400px)"&gt;
    &lt;img src="hero-small.jpg" alt="Hero image" 
         width="800" height="400" 
         decoding="async"
         fetchpriority="high"&gt;
&lt;/picture&gt;

&lt;!-- Lazy loading with intersection observer --&gt;
&lt;img class="lazy" 
     src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 400'%3E%3C/svg%3E"
     data-src="actual-image.jpg"
     alt="Lazy loaded image"
     width="800" height="400"&gt;

&lt;script&gt;
// Intersection Observer for lazy loading
const imageObserver = new IntersectionObserver((entries, observer) =&gt; {
    entries.forEach(entry =&gt; {
        if (entry.isIntersecting) {
            const img = entry.target;
            img.src = img.dataset.src;
            img.classList.remove('lazy');
            imageObserver.unobserve(img);
        }
    });
});

document.querySelectorAll('img.lazy').forEach(img =&gt; {
    imageObserver.observe(img);
});
&lt;/script&gt;</code></pre>
                        </div>

                        <div class="tip-box">
                            <h4>‚ö° Performance Best Practices:</h4>
                            <ul>
                                <li>Minimize HTTP requests by combining resources</li>
                                <li>Use compression (gzip/brotli) for text resources</li>
                                <li>Optimize images: use modern formats, appropriate sizes</li>
                                <li>Implement lazy loading for non-critical content</li>
                                <li>Use CDNs for static resources</li>
                                <li>Minimize and compress CSS/JavaScript</li>
                                <li>Use browser caching strategies</li>
                                <li>Implement service workers for offline functionality</li>
                            </ul>
                        </div>
                    </section>

                    <div class="lesson-nav">
                        <a href="../02-intermediate/index.html" class="nav-btn prev">‚Üê Intermediate HTML</a>
                        <a href="../../css/01-basics/index.html" class="nav-btn next">CSS Basics ‚Üí</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Web Development Learning Hub. Master the web! üöÄ</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="../../scripts/learning.js"></script>
</body>
</html>
