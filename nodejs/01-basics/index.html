<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node.js Basics - Web Development Learning Hub</title>
    <link rel="stylesheet" href="../../styles/learning.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css">
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="../../index.html" class="nav-logo">💻 WebDev Hub</a>
            <div class="nav-links">
                <a href="../../html/01-basics/">HTML</a>
                <a href="../../css/01-basics/">CSS</a>
                <a href="../../javascript/01-basics/">JavaScript</a>
                <a href="../01-basics/">Node.js</a>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <header class="page-header">
            <div class="container">
                <h1>Node.js Basics 🟢</h1>
                <p>Learn server-side JavaScript with Node.js</p>
                <div class="breadcrumb">
                    <a href="../../index.html">Home</a> → <span>Node.js Basics</span>
                </div>
            </div>
        </header>

        <div class="container">
            <div class="learning-layout">
                <aside class="sidebar">
                    <nav class="topic-nav">
                        <h3>Topics</h3>
                        <ul>
                            <li><a href="#what-is-nodejs">What is Node.js?</a></li>
                            <li><a href="#installation">Installation</a></li>
                            <li><a href="#first-program">First Program</a></li>
                            <li><a href="#modules">Modules</a></li>
                            <li><a href="#npm">NPM Basics</a></li>
                            <li><a href="#file-system">File System</a></li>
                            <li><a href="#http-server">HTTP Server</a></li>
                            <li><a href="#express-intro">Express.js Intro</a></li>
                            <li><a href="#package-json">Package.json</a></li>
                            <li><a href="#environment-variables">Environment Variables</a></li>
                        </ul>
                    </nav>
                </aside>

                <div class="content">
                    <!-- What is Node.js -->
                    <section id="what-is-nodejs" class="topic-section">
                        <h2>What is Node.js? 🟢</h2>
                        <div class="explanation">
                            <p><strong>Node.js</strong> is a JavaScript runtime environment that allows you to run JavaScript on the server-side. It's built on Chrome's V8 JavaScript engine and enables full-stack JavaScript development.</p>
                            
                            <div class="key-points">
                                <h4>Key Features:</h4>
                                <ul>
                                    <li><strong>Server-side JavaScript:</strong> Run JS outside the browser</li>
                                    <li><strong>Event-driven:</strong> Non-blocking, asynchronous programming</li>
                                    <li><strong>Single-threaded:</strong> Uses event loops for concurrency</li>
                                    <li><strong>NPM:</strong> Massive package ecosystem</li>
                                    <li><strong>Cross-platform:</strong> Runs on Windows, macOS, Linux</li>
                                </ul>
                            </div>
                        </div>

                        <div class="explanation-grid">
                            <div class="explanation-item">
                                <h4>Frontend vs Backend</h4>
                                <p><strong>Frontend:</strong> Browser JavaScript<br><strong>Backend:</strong> Node.js JavaScript</p>
                            </div>
                            <div class="explanation-item">
                                <h4>Use Cases</h4>
                                <p>APIs, web servers, microservices, CLI tools, real-time apps</p>
                            </div>
                            <div class="explanation-item">
                                <h4>Popular Companies</h4>
                                <p>Netflix, Uber, LinkedIn, PayPal, NASA</p>
                            </div>
                            <div class="explanation-item">
                                <h4>Why Node.js?</h4>
                                <p>Fast, scalable, JavaScript everywhere, huge community</p>
                            </div>
                        </div>
                    </section>

                    <!-- Installation -->
                    <section id="installation" class="topic-section">
                        <h2>Installation & Setup 📦</h2>
                        <div class="explanation">
                            <p>Let's get Node.js installed on your system and verify everything is working.</p>
                        </div>

                        <div class="code-example">
                            <h4>Installation Options:</h4>
                            <div class="explanation-grid">
                                <div class="explanation-item">
                                    <h4>Official Website</h4>
                                    <p>Download from <a href="https://nodejs.org" target="_blank">nodejs.org</a><br>Choose LTS (Long Term Support) version</p>
                                </div>
                                <div class="explanation-item">
                                    <h4>Package Managers</h4>
                                    <p><strong>macOS:</strong> <code>brew install node</code><br><strong>Ubuntu:</strong> <code>sudo apt install nodejs npm</code></p>
                                </div>
                                <div class="explanation-item">
                                    <h4>Version Managers</h4>
                                    <p><strong>NVM:</strong> Node Version Manager<br>Manage multiple Node.js versions</p>
                                </div>
                                <div class="explanation-item">
                                    <h4>Verification</h4>
                                    <p>Check installation with terminal commands</p>
                                </div>
                            </div>
                        </div>

                        <div class="code-example">
                            <h4>Verify Installation:</h4>
                            <pre><code class="language-bash"># Check Node.js version
node --version
# or
node -v

# Check NPM version
npm --version
# or
npm -v

# Expected output:
# v18.17.0 (or similar)
# 9.6.7 (or similar)</code></pre>
                        </div>

                        <div class="tip-box">
                            <h4>💡 Installation Tips:</h4>
                            <ul>
                                <li>Always choose the LTS version for stability</li>
                                <li>NPM comes bundled with Node.js</li>
                                <li>Consider using NVM for managing multiple versions</li>
                                <li>Restart your terminal after installation</li>
                            </ul>
                        </div>
                    </section>

                    <!-- First Program -->
                    <section id="first-program" class="topic-section">
                        <h2>Your First Node.js Program 🚀</h2>
                        <div class="explanation">
                            <p>Let's create and run your first Node.js application!</p>
                        </div>

                        <div class="code-example">
                            <h4>Create app.js:</h4>
                            <pre><code class="language-javascript">// app.js - Your first Node.js program
console.log('Hello, Node.js! 🟢');
console.log('Welcome to server-side JavaScript!');

// Basic variables and functions work the same
const message = 'Node.js is awesome!';
const getCurrentTime = () => {
    return new Date().toLocaleString();
};

console.log(message);
console.log('Current time:', getCurrentTime());

// Node.js specific: process object
console.log('Node version:', process.version);
console.log('Platform:', process.platform);</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Run Your Program:</h4>
                            <pre><code class="language-bash"># Navigate to your project folder
cd /path/to/your/project

# Run the Node.js file
node app.js

# Expected output:
# Hello, Node.js! 🟢
# Welcome to server-side JavaScript!
# Node.js is awesome!
# Current time: 12/25/2024, 10:30:00 AM
# Node version: v18.17.0
# Platform: darwin</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Interactive Node.js (REPL):</h4>
                            <pre><code class="language-bash"># Start Node.js REPL (Read-Eval-Print Loop)
node

# Try these commands:
> console.log('Hello from REPL!')
> 2 + 3
> const name = 'Developer'
> `Hello, ${name}!`
> .exit  // or Ctrl+C twice to exit</code></pre>
                        </div>

                        <div class="explanation-grid">
                            <div class="explanation-item">
                                <h4>REPL</h4>
                                <p>Interactive JavaScript environment for testing code quickly</p>
                            </div>
                            <div class="explanation-item">
                                <h4>Process Object</h4>
                                <p>Global object providing info about current Node.js process</p>
                            </div>
                            <div class="explanation-item">
                                <h4>File Extension</h4>
                                <p>Use .js for JavaScript files, .mjs for ES modules</p>
                            </div>
                            <div class="explanation-item">
                                <h4>Execution</h4>
                                <p>Use 'node filename.js' to run Node.js files</p>
                            </div>
                        </div>
                    </section>

                    <!-- Modules -->
                    <section id="modules" class="topic-section">
                        <h2>Node.js Modules 📦</h2>
                        <div class="explanation">
                            <p>Modules allow you to organize code into reusable pieces. Node.js has built-in modules, and you can create your own.</p>
                        </div>

                        <div class="code-example">
                            <h4>Built-in Modules:</h4>
                            <pre><code class="language-javascript">// Import built-in modules
const fs = require('fs');           // File System
const path = require('path');       // Path utilities
const os = require('os');          // Operating System
const http = require('http');       // HTTP server/client

// Using OS module
console.log('Platform:', os.platform());
console.log('CPU Architecture:', os.arch());
console.log('Free Memory:', os.freemem());
console.log('Total Memory:', os.totalmem());

// Using Path module
const filePath = path.join(__dirname, 'data', 'users.json');
console.log('File path:', filePath);
console.log('File extension:', path.extname(filePath));
console.log('Directory name:', path.dirname(filePath));</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Creating Custom Modules:</h4>
                            <pre><code class="language-javascript">// math.js - Custom module
function add(a, b) {
    return a + b;
}

function subtract(a, b) {
    return a - b;
}

function multiply(a, b) {
    return a * b;
}

const PI = 3.14159;

// Export functions and variables
module.exports = {
    add,
    subtract,
    multiply,
    PI,
    calculator: {
        add,
        subtract,
        multiply
    }
};</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Using Custom Modules:</h4>
                            <pre><code class="language-javascript">// app.js - Using the custom module
const math = require('./math');  // ./ means current directory
const { add, subtract } = require('./math');  // Destructuring

// Using the module
console.log('Addition:', math.add(5, 3));
console.log('Subtraction:', subtract(10, 4));
console.log('Multiplication:', math.multiply(4, 7));
console.log('PI value:', math.PI);

// Using nested object
console.log('Calculator add:', math.calculator.add(2, 8));</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>ES6 Modules (Modern):</h4>
                            <pre><code class="language-javascript">// math.mjs - ES6 module (note .mjs extension)
export function add(a, b) {
    return a + b;
}

export function subtract(a, b) {
    return a - b;
}

export const PI = 3.14159;

// Default export
export default function multiply(a, b) {
    return a * b;
}</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Importing ES6 Modules:</h4>
                            <pre><code class="language-javascript">// app.mjs - Using ES6 imports
import multiply, { add, subtract, PI } from './math.mjs';

console.log('Addition:', add(5, 3));
console.log('Multiplication:', multiply(4, 7));
console.log('PI:', PI);</code></pre>
                        </div>
                    </section>

                    <!-- HTTP Server -->
                    <section id="http-server" class="topic-section">
                        <h2>Creating HTTP Server 🌐</h2>
                        <div class="explanation">
                            <p>Let's create a simple web server using Node.js built-in HTTP module.</p>
                        </div>

                        <div class="code-example">
                            <h4>Basic HTTP Server:</h4>
                            <pre><code class="language-javascript">// server.js
const http = require('http');

// Create server
const server = http.createServer((req, res) => {
    // Set response headers
    res.writeHead(200, {
        'Content-Type': 'text/html',
        'Access-Control-Allow-Origin': '*'
    });
    
    // Send response
    res.end(`
        &lt;html&gt;
            &lt;head&gt;&lt;title&gt;My Node.js Server&lt;/title&gt;&lt;/head&gt;
            &lt;body&gt;
                &lt;h1&gt;Hello from Node.js Server! 🟢&lt;/h1&gt;
                &lt;p&gt;Server is running successfully&lt;/p&gt;
                &lt;p&gt;Time: ${new Date().toLocaleString()}&lt;/p&gt;
            &lt;/body&gt;
        &lt;/html&gt;
    `);
});

// Start server
const PORT = 3000;
server.listen(PORT, () => {
    console.log(`Server running at http://localhost:${PORT}`);
});

// Handle server errors
server.on('error', (err) => {
    console.error('Server error:', err);
});</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Server with Routing:</h4>
                            <pre><code class="language-javascript">// server-with-routing.js
const http = require('http');
const url = require('url');

const server = http.createServer((req, res) => {
    const parsedUrl = url.parse(req.url, true);
    const path = parsedUrl.pathname;
    const method = req.method;
    
    // Set common headers
    res.setHeader('Content-Type', 'text/html');
    
    // Routing
    if (path === '/' && method === 'GET') {
        res.writeHead(200);
        res.end('&lt;h1&gt;Home Page&lt;/h1&gt;&lt;p&gt;Welcome to our website!&lt;/p&gt;');
        
    } else if (path === '/about' && method === 'GET') {
        res.writeHead(200);
        res.end('&lt;h1&gt;About Page&lt;/h1&gt;&lt;p&gt;This is the about page.&lt;/p&gt;');
        
    } else if (path === '/api/users' && method === 'GET') {
        res.setHeader('Content-Type', 'application/json');
        res.writeHead(200);
        res.end(JSON.stringify({
            users: [
                { id: 1, name: 'John Doe' },
                { id: 2, name: 'Jane Smith' }
            ]
        }));
        
    } else {
        // 404 Not Found
        res.writeHead(404);
        res.end('&lt;h1&gt;404 - Page Not Found&lt;/h1&gt;');
    }
});

server.listen(3000, () => {
    console.log('Server with routing running at http://localhost:3000');
    console.log('Try: /, /about, /api/users');
});</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Run the Server:</h4>
                            <pre><code class="language-bash"># Start the server
node server.js

# Output:
# Server running at http://localhost:3000

# Open your browser and visit:
# http://localhost:3000

# Stop the server:
# Ctrl+C (or Cmd+C on Mac)</code></pre>
                        </div>

                        <div class="tip-box">
                            <h4>🌐 Server Tips:</h4>
                            <ul>
                                <li>Use port 3000 for development (common convention)</li>
                                <li>Always handle errors gracefully</li>
                                <li>Set appropriate content types for responses</li>
                                <li>Use Ctrl+C to stop the server</li>
                                <li>Consider using nodemon for auto-restart during development</li>
                            </ul>
                        </div>
                    </section>

                    <!-- Express.js Intro -->
                    <section id="express-intro" class="topic-section">
                        <h2>Express.js Introduction 🚄</h2>
                        <div class="explanation">
                            <p>Express.js is the most popular Node.js web framework. It simplifies server creation and adds powerful features.</p>
                        </div>

                        <div class="code-example">
                            <h4>Install Express:</h4>
                            <pre><code class="language-bash"># Initialize npm project
npm init -y

# Install Express
npm install express

# Install development dependencies
npm install --save-dev nodemon</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Basic Express Server:</h4>
                            <pre><code class="language-javascript">// app.js
const express = require('express');
const app = express();
const PORT = 3000;

// Middleware to parse JSON
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

// Routes
app.get('/', (req, res) => {
    res.send(`
        &lt;h1&gt;Express.js Server! 🚄&lt;/h1&gt;
        &lt;p&gt;Much simpler than raw HTTP module&lt;/p&gt;
        &lt;a href="/api/users"&gt;View Users API&lt;/a&gt;
    `);
});

app.get('/about', (req, res) => {
    res.json({
        message: 'About our Express app',
        timestamp: new Date().toISOString(),
        version: '1.0.0'
    });
});

// API routes
app.get('/api/users', (req, res) => {
    const users = [
        { id: 1, name: 'John Doe', email: 'john@example.com' },
        { id: 2, name: 'Jane Smith', email: 'jane@example.com' },
        { id: 3, name: 'Bob Johnson', email: 'bob@example.com' }
    ];
    
    res.json({
        success: true,
        data: users,
        count: users.length
    });
});

// POST route
app.post('/api/users', (req, res) => {
    const { name, email } = req.body;
    
    if (!name || !email) {
        return res.status(400).json({
            success: false,
            message: 'Name and email are required'
        });
    }
    
    const newUser = {
        id: Date.now(),
        name,
        email
    };
    
    res.status(201).json({
        success: true,
        message: 'User created successfully',
        data: newUser
    });
});

// 404 handler
app.use((req, res) => {
    res.status(404).json({
        success: false,
        message: 'Route not found'
    });
});

// Start server
app.listen(PORT, () => {
    console.log(`Express server running at http://localhost:${PORT}`);
});</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Package.json Scripts:</h4>
                            <pre><code class="language-json">{
  "name": "nodejs-basics",
  "version": "1.0.0",
  "scripts": {
    "start": "node app.js",
    "dev": "nodemon app.js",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "dependencies": {
    "express": "^4.18.2"
  },
  "devDependencies": {
    "nodemon": "^3.0.1"
  }
}</code></pre>
                        </div>

                        <div class="code-example">
                            <h4>Run Express Server:</h4>
                            <pre><code class="language-bash"># Development mode (auto-restart on changes)
npm run dev

# Production mode
npm start

# Test the API endpoints:
# GET  http://localhost:3000/
# GET  http://localhost:3000/api/users
# POST http://localhost:3000/api/users (with JSON body)</code></pre>
                        </div>

                        <div class="explanation-grid">
                            <div class="explanation-item">
                                <h4>Express Benefits</h4>
                                <p>Simpler routing, middleware support, template engines, static files</p>
                            </div>
                            <div class="explanation-item">
                                <h4>Middleware</h4>
                                <p>Functions that process requests before reaching route handlers</p>
                            </div>
                            <div class="explanation-item">
                                <h4>Nodemon</h4>
                                <p>Auto-restarts server when files change during development</p>
                            </div>
                            <div class="explanation-item">
                                <h4>JSON Responses</h4>
                                <p>Express makes it easy to send JSON responses with res.json()</p>
                            </div>
                        </div>
                    </section>

                    <div class="lesson-nav">
                        <a href="../../javascript/01-basics/index.html" class="nav-btn prev">← JavaScript Basics</a>
                        <a href="../02-intermediate/index.html" class="nav-btn next">Intermediate Node.js →</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Web Development Learning Hub. Build powerful backends! 🟢</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="../../scripts/learning.js"></script>
</body>
</html>
